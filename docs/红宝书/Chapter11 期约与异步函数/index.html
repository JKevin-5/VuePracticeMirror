<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const before = function(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    resolve("请求成功1");
                    // reject("请求失败1");
                },1000);
            })
        }

        const fun = function(no,flag){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    if(flag){
                        resolve("请求"+no+"成功")
                    }else{
                        reject("请求"+no+"失败");
                    }
                },1000);
            })
        }

        fun(1,true).then(res=>{
            console.log(res)
            return fun(2,true)
        }).then(res=>{
            console.log(res)
            return fun(3)
        }).then(res=>{
        }).then(res=>{
            console.log(res.name)
        }).catch(err=>console.log(err));
    </script>
</body>
</html>